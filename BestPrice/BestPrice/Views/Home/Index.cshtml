@{
    ViewData["Title"] = "Home Page";
}

<head>
    <link rel='stylesheet' href='https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css'>
</head>

<div class="text-center">
    <!--<h1 class="display-4">welcome</h1>-->
    <div class="row">
        <div class="col">
            <img src="~/images/facebook_cover_photo_1.png" height="200" style="margin-top:30px;margin-bottom:30px;" />
        </div>
        <p>The place where you can find the best price for your smartphones and laptops.</p>
    </div>
    <div class="row">
        <div class="col-sm">
            <div class="input-group" style="margin-left:300px;margin-right:300px">
                <input type="text" class="form-control" id="textAutocomplete" placeholder="Search For Products..."/>
                <span class="input-group-btn">
                    @* <button onclick="location.href='@Url.Action("Search", "ebay", new { keyword = "iphone" }) })'" class="btn btn-default" type="submit">Search</button> *@
                       <button id="button" class="btn btn-default" type="submit">Search</button>
                </span>
            </div><!-- /input-group -->
        </div>
    </div>
    <div class="row" style="margin-top:30px;margin-bottom:30px;">
        <div class="col">
            <a class="btn btn-primary" asp-controller="Products" asp-action="Index">Products</a>
            <a class="btn btn-primary" asp-controller="Sellers" asp-action="Index">Sellers</a>
            <a class="btn btn-primary" asp-controller="Reviews" asp-action="Index">Reviews</a>
            <a class="btn btn-primary" asp-controller="Wishlists" asp-action="Index">Wishlists</a>
            <a class="btn btn-primary" asp-controller="WishlistProduct" asp-action="Index">Wishlist Product</a>
            <a class="btn btn-primary" asp-controller="Locations" asp-action="Index">Locations</a>
            <a class="btn btn-primary" asp-controller="SearchHistories" asp-action="Index">Search Histories</a>
            <a class="btn btn-primary" asp-controller="Faqs" asp-action="Index">Faqs</a>
            <a class="btn btn-primary" asp-controller="Notifications" asp-action="Index">Notifications</a>
            <a class="btn btn-primary" asp-controller="ebay" asp-action="Index">Ebay list</a>
        </div>
    </div>
    
    
</div>

<script>

    $("#textAutocomplete").autocomplete({
        source: function(request, response) {
            $.ajax({
                type: "GET",
                url: "/Products/GetSuggestion",
                data: { text: request.term },
                success: function(data) {
                    response($.map(data, function(item) {
                        return {label: item, value: item}
                    }))
                }
            })
        }
    });

    $(function () {
        $('#button').click(function () {
            var url = '@Url.Action("Search", "ebay")';
            var textValue = $('#textAutocomplete').val();
             window.location.href = url + '/' + textValue;
        });
    });

    $(document).ready(function () {

        if ($("#textAutocomplete").val().length  == 0) {
            $("#button").prop('disabled', true);
        } 

        $('#textAutocomplete').change(function () {
            if ($("#textAutocomplete").val().length) {
                $("#button").prop('disabled', false);
            } else {
                $("#button").prop('disabled', true);
            }
        });
    });
        

    @*
    $(document).ready(function () {
        if ($("#textAutocomplete").val().length == 0) {
            $("#button").prop('disabled', true);
        }

        $('#textAutocomplete').keyup(function () {
            $('#textAutocomplete').change(function () {
                if ($("#textAutocomplete").val().length) {
                    $("#button").prop('disabled', false);
                } else {
                    $("#button").prop('disabled', true);
                }
            });
        });
    });
        *@
</script>